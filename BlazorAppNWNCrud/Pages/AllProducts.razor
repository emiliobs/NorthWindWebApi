@page "/AllProducts"
@inject HttpClient HttpClient


<h3>Products</h3>
<hr />
<button class="btn btn-primary mb-2"><span class="oi oi-plus"></span> New Product</button>

@if (Products == null)
{
    <h3><em>Loading.....</em></h3>
}
else
{
    <Table Products="Products"></Table>
}

@code {

    List<Product> Products;

    protected async override Task OnInitializedAsync()
    {
        //await Task.Delay(10000);

        Products = await HttpClient.GetJsonAsync<List<Product>>("https://localhost:44329/products");
        //Products = new List<Product>();


    }

}
